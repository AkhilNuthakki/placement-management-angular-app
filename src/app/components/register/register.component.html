<ng-container *ngIf="userAdded">
    <app-success-message [successMessage]="'User is sucessfully registerd'"></app-success-message>
</ng-container>

<ng-container *ngIf="errorMessage">
    <app-error-message [errorMessage]="errorMessage"></app-error-message>
</ng-container>


<div class="d-flex justify-content-center p-sm-5 pt-2 mt-2">
    <form class="register-form-border p-sm-4 p-3" [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <div class="form-group row">
            <label for="useremail" class="col-form-label">User Email</label>
            <div class="">
                <input class="form-control" placeholder="Email ID" type="text" id="useremail"
                    formControlName="useremail" />
                <div
                    *ngIf="!registerForm.get('useremail')?.valid && (registerForm.get('useremail')?.dirty || registerForm.get('useremail')?.touched)">
                    <small id="helpId" *ngIf="registerForm.get('useremail')?.errors?.['required']"
                        class="text-muted">Email is
                        required</small>
                    <small id="helpId" *ngIf="registerForm.get('useremail')?.errors?.['email']" class="text-muted">Email
                        should be valid</small>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="firstname" class="col-form-label">First Name</label>
            <div class="">
                <input class="form-control" placeholder="First name" type="text" id="firstname"
                    formControlName="firstname" />
                <div
                    *ngIf="!registerForm.get('firstname')?.valid && (registerForm.get('firstname')?.dirty || registerForm.get('firstname')?.touched)">
                    <small id="helpId" *ngIf="registerForm.get('firstname')?.errors?.['required']"
                        class="text-muted">First name
                        is
                        required</small>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="lastname" class="col-form-label">Last Name</label>
            <div class="">
                <input class="form-control" placeholder="Last name" type="text" id="lastname"
                    formControlName="lastname" />
                <div
                    *ngIf="!registerForm.get('lastname')?.valid && (registerForm.get('lasttname')?.dirty || registerForm.get('lastname')?.touched)">
                    <small id="helpId" *ngIf="registerForm.get('lastname')?.errors?.['required']"
                        class="text-muted">Last name
                        is
                        required</small>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="school" class="col-form-label">School</label>
            <div class="">
                <select class="custom-select"  formControlName="school">
                    <option value="">Choose your school</option>
                    <option *ngFor="let school of schoolList" [ngValue]="school">{{school}}</option>
                  </select>
                <div
                    *ngIf="!registerForm.get('school')?.valid && (registerForm.get('school')?.dirty || registerForm.get('school')?.touched)">
                    <small id="helpId" *ngIf="registerForm.get('school')?.errors?.['required']"
                        class="text-muted">School
                        is
                        required</small>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="password" class="col-form-label">Password</label>
            <div class="">
                <input class="form-control" placeholder="Password" type="password" id="password"
                    formControlName="password" />
                <div
                    *ngIf="!registerForm.get('password')?.valid && (registerForm.get('password')?.dirty || registerForm.get('password')?.touched)">
                    <small id="helpId" *ngIf="registerForm.get('password')?.errors?.['required']"
                        class="text-muted">Password is
                        required</small>
                    <small id="helpId" *ngIf="registerForm.get('password')?.errors?.['minlength']"
                        class="text-muted">Password should be minimum of 8 characters</small>
                    <br />
                    <small id="helpId" *ngIf="registerForm.get('password')?.errors?.['pattern']"
                        class="text-muted">Password should be alphnumeric</small>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center"><button class="theme-btn m-2" [disabled]="!registerForm.valid"
                type="submit">Register</button></div>
        <div class="d-flex justify-content-center m-2">Already Registered? &nbsp;<a class="theme-link" routerLink="/login"> Login Here</a>
        </div>
    </form>
</div>